body {
    font-family: system-ui;
    margin: 12px;
    background: #f8fafc
}

textarea {
    width: 100%;
    height: 420px;
    font-family: monospace;
    padding: 8px;
    border: 1px solid #e6eef8;
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(2, 6, 23, 0.04)
}

.row {
    display: flex;
    gap: 12px;
    align-items: flex-start
}

#controls {
    margin-bottom: 8px
}

button {
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid #cbd5e1;
    background: #fff;
    cursor: pointer
}

.panel {
    background: #fff;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #e6eef8
}

.note {
    color: #64748b;
    font-size: 0.9rem;
    margin-top: 6px
}

.story-highlight {
    background: #fff7cc;
    box-shadow: inset 0 0 0 3px #fde68a;
    transition: all .18s
}

.story-highlight-pulse {
    animation: pulse 1.2s ease
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(253, 230, 138, 0.9)
    }

    100% {
        box-shadow: 0 0 0 6px rgba(253, 230, 138, 0)
    }
}

.mermaid-popup-img {
    max-width: 320px;
    display: block;
    margin-bottom: 8px;
    border-radius: 6px;
}

#error {
    color: #b91c1c;
    font-weight: 600;
    margin-top: 8px
}

/* enlarge the render area */
#render {
    flex: 1;
    min-width: 420px;
    height: 82vh;
    background: #fff;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #e6eef8;
    box-shadow: 0 6px 18px rgba(2, 6, 23, 0.04);
    overflow: hidden
}

#mermaid-container {
    height: 100%
}

#mermaid-container svg {
    width: 100% !important;
    height: 100% !important;
    display: block
}

/* ensure tippy popups are above everything */
.tippy-box {
    z-index: 999999 !important;
    pointer-events: auto
}

.tippy-tooltip {
    pointer-events: auto
}

/* svg-pan-zoom control icon z-index */
.svg-pan-zoom-control {
    z-index: 2000
}